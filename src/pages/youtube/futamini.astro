---
import CardGroup from '@components/CardGroup.astro';
import CardItem from '@components/CardItem.astro';
import YouTubeTab from '@components/YouTubeTab.astro';
import Layout from '@layouts/Layout.astro';

import FaYouTube from '@lib/images/font-awesome/youtube.svg?raw';

import { single } from '@modules/yt-grabber';

const youtube_data = await single(
	'https://www.youtube.com/feeds/videos.xml?channel_id=UClUhaSDL2kdewsgi9b7J9aQ'
);
---

<Layout title="Youtube - Futami" className="totality-container">
	<!-- Tabs -->
	<YouTubeTab />
	<!-- Channel and Plylists -->
	<CardGroup nameGroup="Channel and Plylists">
		<!-- FutaMINI -->
		<CardItem
			name="FutaMINI"
			url="https://youtube.com/@futamini?sub_confirmation=1"
			description="Random content"
			img="https://yt3.googleusercontent.com/6xeVvy7pG4ekmwzZTuhDhOPDqF4OQKRNoLR6ijjxs0Bu33b4QZZIwLiALxKbGx2gQlZMFPXHsg=s250-c-k-c0x00ffffff-no-rj"
		/>
	</CardGroup>

	<CardGroup nameGroup="Latest Video">
		{
			youtube_data.items.map((data: any) => {
				return (
					<CardItem
						name={data.title}
						url={data.url}
						description={data.author}
						bgImage={`https://i.ytimg.com/vi/${data.id}/hqdefault.jpg`}
						svg={FaYouTube}
					/>
				);
			})
		}
	</CardGroup>
</Layout>
