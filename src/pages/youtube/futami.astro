---
import CardGroup from '@components/CardGroup.astro';
import CardItem from '@components/CardItem.astro';
import YouTubeTab from '@components/YouTubeTab.astro';
import Layout from '@layouts/Layout.astro';

import FaYouTube from '@lib/images/font-awesome/youtube.svg?raw';

import { single } from '@modules/yt-grabber';

const youtube_data = await single(
	'https://www.youtube.com/feeds/videos.xml?channel_id=UCY_76_kibnLb0hgOdZXI-aQ'
);
---

<Layout title="Youtube - Futami" className="totality-container">
	<!-- Tabs -->
	<YouTubeTab />
	<!-- Channel and Plylists -->
	<CardGroup nameGroup="Channel and Plylists">
		<!-- Futami Ch. -->
		<CardItem
			name="Futami Ch."
			url="https://youtube.com/@futamiyarn?sub_confirmation=1"
			description="Games, Tutorial, and More"
			img="https://yt3.googleusercontent.com/S5IfQ0LxW6Pp4JxilCMZMrrEm59QBVCXQSqL7IZ1d4M6BIwuHsWSfpnPzibCpVxCBjZDp1CVpA=s250-c-k-c0x00ffffff-no-rj"
		/>

		<!-- FutaLatest -->
		<CardItem
			name="FutaLatest"
			url="https://www.youtube.com/playlist?list=PLQX-jAZdOlz6t8ODAhKbW1D85Es6l5msE"
			description="News and Popcuture"
			svg={FaYouTube}
		/>

		<!-- Tutorial -->
		<CardItem
			name="Tutorial"
			url="https://www.youtube.com/playlist?list=PLQX-jAZdOlz6t8ODAhKbW1D85Es6l5msE"
			description="How To series"
			svg={FaYouTube}
		/>
	</CardGroup>

	<CardGroup nameGroup="Latest Video">
		{
			youtube_data.items.map((data: any) => {
				return (
					<CardItem
						name={data.title}
						url={data.url}
						description={data.author}
						bgImage={`https://i.ytimg.com/vi/${data.id}/hqdefault.jpg`}
						svg={FaYouTube}
					/>
				);
			})
		}
	</CardGroup>
</Layout>
