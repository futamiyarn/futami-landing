---
import { Icon } from 'astro-icon/components';

interface Props {
	href: string;
	icon: string;
	label?: string;
}

const { href, icon, label = 'Link navigasi' } = Astro.props;

// Logika untuk menentukan apakah tombol sedang aktif/dipilih
// Aktif jika href adalah '#' (digunakan di halaman saat ini) atau jika path cocok
const pathname = Astro.url.pathname.replace(/\/$/, '');
const targetHref = href.replace(/\/$/, '');
const isActive = href === '#' || (targetHref !== '' && pathname === targetHref);
---

<a
	href={href}
	aria-label={label}
	class:list={[
		'flex h-12 w-12 items-center justify-center rounded-xl shadow-xs transition-all duration-200 active:scale-95',
		{
			// Gaya saat AKTIF (Selected) - Menggunakan warna Primary yang lebih menonjol
			'bg-primary text-primary-on shadow-md brightness-110': isActive,
			// Gaya saat TIDAK AKTIF - Menggunakan warna Container yang lebih tenang
			'bg-primary-container text-primary-on-container hover:-translate-y-1 hover:shadow-md hover:brightness-110':
				!isActive
		}
	]}
>
	<Icon name={icon} class="h-8 w-8" />
</a>
